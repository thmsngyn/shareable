{"version":3,"sources":["assets/badminton.png","assets/gradient-logo.png","styles/shared-spacing.tsx","styles/shared-colors.tsx","styles/shared-text.tsx","utils/hash.tsx","utils/http.utils.tsx","pages/shared-layout/shared-layout.page.tsx","services/storage/storage.constants.tsx","pages/stream/stream.page.tsx","pages/home/home.page.tsx","components/shared/button.component.tsx","services/storage/storage.service.tsx","services/spotify/spotify.types.tsx","pages/account/account.page.tsx","pages/stats/stats.page.tsx","utils/routing.tsx","config.js","services/spotify/spotify.constants.tsx","services/spotify/spotify.service.tsx","redux/actions/actions.tsx","components/track/track.component.tsx","components/player/player.component.tsx","components/footer/footer.component.tsx","components/header/header.component.tsx","components/shared/section.component.tsx","components/profile/profile.component.tsx","redux/reducers/currently-playing.reducer.tsx","redux/reducers/index.tsx","redux/store.tsx","App.tsx","serviceWorker.js","index.js"],"names":["module","exports","Spacing","Colors","getAppMargin","isMobile","s24","s224","APP_HEADER_HEIGHT","s64","APP_FOOTER_HEIGHT","s512","FontSizes","fontSize","lineHeight","hash","window","location","substring","split","reduce","initial","item","parts","decodeURIComponent","parseJson","response","text","then","JSON","parse","StorageKeys","SharedLayout","this","props","children","hasError","isLoading","headerText","subText","style","styles","animation","src","background","speed","width","height","loop","autoplay","React","Component","display","justifyContent","Stream","state","currentTrack","undefined","is_playing","progress_ms","likes","setCurrentlyPlayingState","error","setState","setLikesState","onError","SpotifyService","getCurrentlyPlaying","currentlyPlaying","getLikes","items","length","Home","loggedIn","name","userIsLoggedIn","Promise","all","userProfile","setFocusedTrack","focusedTrack","openLink","LOGIN_OAUTH","track","map","like","index","key","MapDispatchToProps","setFocused","connect","store","Button","onClick","styleOverride","buttonContainer","button","className","href","SpotifyTimeRange","SpotifyTopType","SpotifyErrorMessages","StorageService","storage","localStorage","getItem","data","setItem","console","log","duration","expirationsValue","get","KeyDecay","expirations","Date","now","set","stringify","Object","entries","forEach","val","Number","remove","removeItem","Account","setUserProfile","keys","logout","history","push","reload","profile","imageStyle","image","imageUrl","defaultProfileImage","onClickImage","open","externalUrl","info","email","country","followers","Stats","topArtistsTimeRange","ShortTerm","topTracksTimeRange","setTopsState","getTop","Artists","topArtists","Tracks","topTracks","topArtistsError","topTracksError","type","SpotifyTimeRangeToDisplay","MediumTerm","LongTerm","SpotifyTimeRangeList","timeRangeForType","row","range","toggle","renderTimeRangeButtons","artist","images","url","external_urls","spotify","displayKeys","rank","genres","join","album","playSong","title","artists","flexWrap","marginBottom","s12","marginRight","s48","s16","dispatch","AppRoutes","path","page","header","rightAlignedHeader","config","redirectUri","obfuscateDevTools","clientId","scopes","PLAYER_API","SAVED_TRACKS_API","USER_PROFILE_API","USER_TOP_API","PLAYER_PLAY_API","ActionTypes","token","hasTokenInStorage","checkExpiration","SpotifyToken","setExpiration","profileFromStorage","UserProfile","getUserProfile","display_name","total","access_token","tokenFromStorage","resolveTokenInStorage","request","deviceIds","play","device_ids","limit","offset","timeRange","uris","method","body","fetch","headers","errorHandler","bind","message","TokenExpired","Headers","Authorization","action","SET_FOCUSED","playSongs","uri","Track","artistName","trackTitle","hasData","coverArt","alt","renderArtists","renderTrackTitle","progress","marginTop","Player","deviceId","resolveUserToken","isActive","transferPlayback","playerData","setDevice","syncCurrentlyPlaying","custom","autoPlay","showSaveIcon","persistDeviceSelection","callback","handlePlayerCallback","sliderColor","ShareableLavender","savedColor","Footer","footer","position","left","bottom","Header","isRightAligned","keepRightHeaders","route","keepLeftHeaders","filter","exact","to","headerItem","activeStyle","headerItemActive","responsiveHeaderStyle","responsiveLeftHeaderStyle","logo","renderHeaderItem","headerRight","headerContents","paddingLeft","paddingRight","headerLeft","top","backgroundColor","White","color","ScreenBackground","alignItems","marginLeft","cursor","textDecoration","fontWeight","Section","streamSection","s32","fontFamily","Profile","profileContainer","imageStyleOverride","infoKeys","infoValues","textAlign","initialState","isPlaying","rootReducer","combineReducers","id","payload","PAUSE_FOCUSED","middleware","reduxThunk","createStore","applyMiddleware","composeWithDevTools","App","responsiveStyle","routeContainer","component","basename","app","renderRoutes","hot","withSizes","minHeight","flexDirection","c100","paddingTop","overflow","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.2a18abd8.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/badminton.c7bae4fd.png\";","module.exports = __webpack_public_path__ + \"static/media/gradient-logo.55240fe4.png\";","export enum Spacing {\n  s0 = 0,\n  s2 = 2,\n  s4 = 4,\n  s8 = 8,\n  s12 = 12,\n  s16 = 16,\n  s24 = 24,\n  s32 = 32,\n  s48 = 48,\n  s64 = 64,\n  s128 = 128,\n  s224 = 224,\n  s512 = 512,\n}\n\nexport const getAppMargin = (isMobile: boolean = true) => {\n  return isMobile ? Spacing.s24 : Spacing.s224;\n};\nexport const APP_HEADER_HEIGHT = Spacing.s64;\nexport const APP_FOOTER_HEIGHT = Spacing.s512;\n","export enum Colors {\n  // brand colors\n  ShareableLavender = '#90a7ee',\n  // blacks/greys/white\n  c600 = '#1C2124', // body text\n  c500 = '#66747D', // subdued text\n  c400 = '#86939C', // Icon default\n  c300 = '#C7D0D6', // input outline\n  c200 = '#E4E9ED', // card outline\n  c100 = '#F5F8FA', // background and disabled\n  c0 = '#FFF', // white\n  // TODO: add more colors\n  // Helper Colors\n  ScreenBackground = '#282c34',\n  White = '#fff',\n  Black = '#000',\n  Transparent = 'rgba(52, 52, 52, 0)',\n  TransparentDark = 'rgba(52, 52, 52, 0.9)',\n}\n","export const FontSizes = {\n  ExtraLarge: {\n    fontSize: 48,\n    lineHeight: '54px',\n  },\n  Large: {\n    fontSize: 36,\n    lineHeight: '54px',\n  },\n  MediumLarge: {\n    fontSize: 28,\n    lineHeight: '36px',\n  },\n  Medium: {\n    fontSize: 20,\n    lineHeight: '30px',\n  },\n  MediumSmall: {\n    fontSize: 14,\n    lineHeight: '20px',\n  },\n  Small: {\n    fontSize: 12,\n    lineHeight: '18px',\n  },\n  ExtraSmall: {\n    fontSize: 11,\n    lineHeight: '16px',\n  },\n};\n","// Get the hash of the url\nexport const hash: any = window.location.hash\n  .substring(1)\n  .split('&')\n  .reduce(function (initial: any, item: string) {\n    if (item) {\n      const parts = item.split('=');\n      initial[parts[0]] = decodeURIComponent(parts[1]);\n    }\n    return initial;\n  }, {});\nwindow.location.hash = '';\n","export function parseJson(response: any) {\n  return response.text().then(function (text: any) {\n    return text ? JSON.parse(text) : {};\n  });\n}\n","import React from 'react';\n\nimport { Section } from '../../components';\n\n// TODO: Move somewhere else?\ndeclare global {\n  namespace JSX {\n    interface IntrinsicElements {\n      'lottie-player': any;\n    }\n  }\n}\n\nexport interface SharedLayoutProps {\n  hasError: boolean;\n  isLoading: boolean;\n}\nexport interface SharedLayoutState {}\n\n/**\n * Responsible for shared page layout and states\n */\nexport class SharedLayout extends React.Component<SharedLayoutProps, SharedLayoutState> {\n  componentDidMount() {}\n\n  render() {\n    const { children, hasError, isLoading } = this.props;\n\n    if (hasError) {\n      return (\n        <Section headerText={'Something bad happened...'} subText={'Please refresh the page and try again.'}>\n          <div style={styles.animation}>\n            <lottie-player\n              src=\"https://assets3.lottiefiles.com/packages/lf20_3x5I70.json\"\n              background=\"transparent\"\n              speed=\"1\"\n              style={{ width: 350, height: 'auto' }}\n              loop\n              autoplay\n            ></lottie-player>\n          </div>\n        </Section>\n      );\n    }\n    if (isLoading) {\n      return (\n        <Section>\n          <div style={styles.animation}>\n            <lottie-player\n              src=\"https://assets8.lottiefiles.com/packages/lf20_6R2HIH.json\"\n              background=\"transparent\"\n              speed=\"2\"\n              style={{ width: 350, height: 350 }}\n              loop\n              autoplay\n            ></lottie-player>\n          </div>\n        </Section>\n      );\n    }\n\n    return children;\n  }\n}\n\nconst styles: Record<any, React.CSSProperties> = {\n  animation: {\n    display: 'flex',\n    justifyContent: 'center',\n  },\n};\n","export enum StorageKeys {\n  SpotifyToken = 'shrbl_spotify_token',\n  UserProfile = 'shrbl_user',\n  KeyDecay = 'shrbl_key_decay',\n}\n","import React from 'react';\n\nimport { Section } from '../../components';\nimport {\n  TracksEntity,\n  SpotifyService,\n  SpotifyError,\n  CurrentPlaybackResponse,\n  LikesResponse,\n  Track as TrackType,\n} from '../../services';\nimport { SharedLayout } from '../shared-layout';\n\ninterface StreamProps {}\ninterface StreamState {\n  hasError: boolean;\n  currentTrack: TrackType | undefined;\n  is_playing: boolean;\n  progress_ms: number;\n  likes: TracksEntity[];\n}\n\nexport class Stream extends React.Component<StreamProps, StreamState> {\n  constructor(props: StreamProps) {\n    super(props);\n\n    this.state = {\n      currentTrack: undefined,\n      is_playing: true,\n      progress_ms: 0,\n      likes: [],\n      hasError: false,\n    };\n  }\n\n  componentDidMount() {\n    this.setCurrentlyPlayingState((error: SpotifyError) => {\n      // Something bad happened\n      this.setState({ hasError: true });\n    });\n    this.setLikesState((error: SpotifyError) => {\n      // Something bad happened\n      this.setState({ hasError: true });\n    });\n  }\n\n  async setCurrentlyPlayingState(onError: Function) {\n    const currentlyPlaying: CurrentPlaybackResponse = await SpotifyService.getCurrentlyPlaying();\n    const { error } = currentlyPlaying;\n\n    if (error) {\n      return onError(error);\n    }\n\n    this.setState({\n      currentTrack: currentlyPlaying.item,\n    });\n  }\n\n  async setLikesState(onError: Function) {\n    const likes: LikesResponse = await SpotifyService.getLikes();\n    const { error } = likes;\n\n    if (error) {\n      return onError(error);\n    }\n\n    this.setState({ likes: likes.items! });\n  }\n\n  render() {\n    const { hasError, currentTrack, likes } = this.state;\n    const isLoading = !currentTrack && !likes.length;\n\n    return (\n      <SharedLayout hasError={hasError} isLoading={isLoading}>\n        <Section\n          headerText={'Stream feed'}\n          subText={'Under development. The intent of this page is to be a live stream of music your friends like.'}\n        ></Section>\n      </SharedLayout>\n    );\n  }\n}\n","import React, { Fragment } from 'react';\n\nimport { connect } from 'react-redux';\n\nimport * as AppStateTypes from 'AppStateTypes';\nimport { Section, Button, Track } from '../../components';\nimport { SharedLayout } from '../shared-layout';\nimport {\n  SpotifyService,\n  LOGIN_OAUTH,\n  SpotifyError,\n  CurrentPlaybackResponse,\n  LikesResponse,\n  TracksEntity,\n} from '../../services';\nimport { setFocused } from '../../redux/actions';\n\ninterface OwnProps {}\ninterface DispatchProps {\n  setFocusedTrack: typeof setFocused;\n}\ninterface StateProps {\n  focusedTrack: any;\n}\n\ntype HomeProps = OwnProps & DispatchProps & StateProps;\n\ninterface HomeState {\n  hasError: boolean;\n  loggedIn: boolean;\n  isLoading: boolean;\n  name: string;\n  likes: TracksEntity[];\n}\n\nclass Home extends React.Component<HomeProps, HomeState> {\n  constructor(props: any) {\n    super(props);\n\n    this.state = {\n      hasError: false,\n      loggedIn: false,\n      isLoading: true,\n      name: '',\n      likes: [],\n    };\n  }\n\n  componentDidMount() {\n    const loggedIn = SpotifyService.userIsLoggedIn();\n    if (loggedIn) {\n      Promise.all([\n        SpotifyService.userProfile().then((userProfile) => this.setState({ name: userProfile.name.split(' ')[0] })),\n        this.setCurrentlyPlayingState((error: SpotifyError) => {\n          // Something bad happened\n          this.setState({ hasError: true });\n        }),\n        this.setLikesState((error: SpotifyError) => {\n          // Something bad happened\n          this.setState({ hasError: true });\n        }),\n      ]).then(([resolved1, resolved2, resolved3]) => {\n        this.setState({ isLoading: false });\n      });\n    }\n    this.setState({ loggedIn });\n  }\n\n  async setCurrentlyPlayingState(onError: Function) {\n    const { setFocusedTrack } = this.props;\n\n    const currentlyPlaying: CurrentPlaybackResponse = await SpotifyService.getCurrentlyPlaying();\n    const { error, item } = currentlyPlaying;\n\n    if (error) {\n      return onError(error);\n    }\n\n    if (currentlyPlaying.item && setFocusedTrack) {\n      setFocusedTrack(item);\n    }\n  }\n\n  async setLikesState(onError: Function) {\n    const likes: LikesResponse = await SpotifyService.getLikes();\n    const { error } = likes;\n\n    if (error) {\n      return onError(error);\n    }\n\n    this.setState({ likes: likes.items! });\n  }\n\n  render() {\n    const { hasError, loggedIn, name, isLoading, likes } = this.state;\n    const { focusedTrack } = this.props;\n\n    return (\n      <SharedLayout hasError={hasError} isLoading={loggedIn && isLoading}>\n        {!loggedIn && (\n          <Section headerText={`Welcome!`} subText={'Please login with your spotify credentials to continue.'}>\n            <Button text={`Login to Spotify`} openLink={LOGIN_OAUTH} />\n          </Section>\n        )}\n        {loggedIn && (\n          <Fragment>\n            <Section\n              headerText={`Welcome ${name}!`}\n              subText={'You can now play music and view your personalized stats.'}\n            ></Section>\n            <Section headerText={'Currently playing'}>\n              <Track track={focusedTrack} />\n            </Section>\n            <Section headerText={'Likes'}>\n              {likes.map((like, index) => {\n                return <Track key={index} track={like.track} />;\n              })}\n            </Section>\n          </Fragment>\n        )}\n      </SharedLayout>\n    );\n  }\n}\n\nconst MapStateToProps = (store: AppStateTypes.ReducerState): StateProps => {\n  return {\n    focusedTrack: store.focusedTrack.track,\n  };\n};\n\nconst MapDispatchToProps = {\n  setFocusedTrack: setFocused,\n};\n\nexport default connect(MapStateToProps, MapDispatchToProps)(Home);\n","import React, { CSSProperties } from 'react';\n\ninterface ButtonProps {\n  onClick?: Function;\n  openLink?: string;\n  text: string;\n  style?: CSSProperties;\n}\n\nexport class Button extends React.Component<ButtonProps> {\n  constructor(props: ButtonProps) {\n    super(props);\n  }\n\n  componentDidMount() {}\n\n  render() {\n    const { onClick, openLink, text, style = {} } = this.props;\n    const styleOverride = {\n      ...styles.buttonContainer,\n      ...style,\n    };\n\n    return (\n      <div style={styleOverride}>\n        <a\n          style={styles.button}\n          className=\"btn btn--loginApp-link\"\n          onClick={() => onClick && onClick()}\n          href={openLink ? openLink : undefined}\n        >\n          {text}\n        </a>\n      </div>\n    );\n  }\n}\n\nconst styles: Record<any, React.CSSProperties> = {\n  buttonContainer: {\n    width: '100%',\n  },\n  button: {\n    display: 'inline-block',\n  },\n};\n","import { StorageKeys } from './storage.constants';\n\n/**\n * This is a wrapper around localStorage with:\n * 1. fallback to in memory storage in case local storage is not available\n * 2. option to add expiration time to  values\n */\nexport const StorageService = new (class {\n  storage = localStorage;\n\n  /** Gets a stored value if exists\n   * returns null if not exist or in case of error .\n   * @memberof LocalStoreService\n   * @method get\n   * @param {string} key\n   * @return {string | null}\n   */\n  get(key: string): string | null {\n    try {\n      return this.storage.getItem(key);\n    } catch (error) {}\n    return null;\n  }\n\n  /** Sets data for a key in storage\n   * in case of error accessing localStorage, will change storage mode to in memory\n   * @memberof LocalStoreService\n   * @method set\n   * @param {string} key\n   * @param {string} data\n   * @return {void}\n   */\n  set(key: string, data: string): void {\n    try {\n      this.storage.setItem(key, data);\n    } catch (error) {\n      console.log(error);\n      // this.storage = new TempStorage();\n      // this.storage.setItem(key, data);\n    }\n  }\n\n  /** Sets expiration time for a key.\n   * key references a key in the local store\n   * @memberof LocalStoreService\n   * @method setExpiration\n   * @param {string} key\n   * @param {number} duration\n   * @return {void}\n   */\n  setExpiration(key: string, duration: number): void {\n    const expirationsValue: any = this.get(StorageKeys.KeyDecay);\n    const expirations: any = (expirationsValue && JSON.parse(expirationsValue)) || {};\n    expirations[key] = Date.now() + duration;\n    this.set(StorageKeys.KeyDecay, JSON.stringify(expirations));\n  }\n\n  /** Removes expired keys from local store\n   * @memberof LocalStoreService\n   * @method checkExpiration\n   * @return {void}\n   */\n  checkExpiration(): void {\n    let expirations: any;\n    if (!(expirations = JSON.parse(this.get(StorageKeys.KeyDecay) || 'null'))) {\n      return;\n    }\n    const now = Date.now();\n\n    Object.entries(expirations).forEach(([key, val]) => {\n      if (now <= Number(val)) {\n        return;\n      }\n      this.remove(key);\n      delete expirations[key];\n    });\n\n    this.set(StorageKeys.KeyDecay, JSON.stringify(expirations));\n  }\n\n  /** Removes a key from the store\n   * @memberof LocalStoreService\n   * @method removeItem\n   * @param {string} key\n   * @return {void}\n   */\n  remove(key: string): void {\n    try {\n      this.storage.removeItem(key);\n    } catch (error) {}\n  }\n})();\n","// Currently Playing\nexport interface CurrentPlaybackResponse {\n  device: Device;\n  shuffle_state: boolean;\n  repeat_state: string;\n  timestamp: number;\n  context: Context;\n  progress_ms: number;\n  item: Track;\n  currently_playing_type: string;\n  actions: Actions;\n  is_playing: boolean;\n  error?: SpotifyError;\n}\nexport interface Device {\n  id: string;\n  is_active: boolean;\n  is_private_session: boolean;\n  is_restricted: boolean;\n  name: string;\n  type: string;\n  volume_percent: number;\n}\nexport interface Context {\n  external_urls: ExternalUrls;\n  href: string;\n  type: string;\n  uri: string;\n}\nexport interface ExternalUrls {\n  spotify: string;\n}\n\nexport interface Album {\n  album_type: string;\n  artists?: ArtistsEntity[] | null;\n  available_markets?: string[] | null;\n  external_urls: ExternalUrls;\n  href: string;\n  id: string;\n  images?: ImagesEntity[] | null;\n  name: string;\n  release_date: string;\n  release_date_precision: string;\n  total_tracks: number;\n  type: string;\n  uri: string;\n}\n\nexport interface ArtistsEntity {\n  external_urls: ExternalUrls;\n  followers?: Followers;\n  genres?: string[] | null;\n  href: string;\n  id: string;\n  images?: ImagesEntity[] | null;\n  name: string;\n  popularity?: number;\n  type: string;\n  uri: string;\n}\n\nexport interface ImagesEntity {\n  height: number;\n  url: string;\n  width: number;\n}\nexport interface ExternalIds {\n  isrc: string;\n}\nexport interface Actions {\n  disallows: Disallows;\n}\nexport interface Disallows {\n  resuming: boolean;\n}\n\n// Likes\nexport interface LikesResponse {\n  href: string;\n  items?: TracksEntity[] | null;\n  limit: number;\n  next: string;\n  offset: number;\n  previous?: null;\n  total: number;\n  error?: SpotifyError;\n}\nexport interface TracksEntity {\n  added_at: string;\n  track: Track;\n}\nexport interface Track {\n  album: Album;\n  artists?: ArtistsEntity[] | null;\n  available_markets?: string[] | null;\n  disc_number: number;\n  duration_ms: number;\n  explicit: boolean;\n  external_ids: ExternalIds;\n  external_urls: ExternalUrls;\n  href: string;\n  id: string;\n  is_local: boolean;\n  name: string;\n  popularity: number;\n  preview_url: string;\n  track_number: number;\n  type: string;\n  uri: string;\n}\n\n// Top\nexport enum SpotifyTimeRange {\n  ShortTerm = 'short_term', // 4 weeks\n  MediumTerm = 'medium_term', // 6 months\n  LongTerm = 'long_term', // Several years of data\n}\n\nexport enum SpotifyTopType {\n  Artists = 'artists',\n  Tracks = 'tracks',\n}\n\nexport interface TopResponse {\n  items?: ArtistsEntity[] | Track[];\n  total: number;\n  limit: number;\n  offset: number;\n  href: string;\n  previous?: null;\n  next: string;\n  error?: SpotifyError;\n}\n\nexport interface Followers {\n  href?: null;\n  total: number;\n}\n\n// Errors\nexport interface SpotifyError {\n  status: number;\n  message: string;\n}\n\nexport enum SpotifyErrorMessages {\n  TokenExpired = 'The access token expired',\n}\n\nexport interface SpotifyUserProfile {\n  name: string;\n  externalUrl: string;\n  imageUrl: string;\n  email: string;\n  country: string;\n  error: string;\n}\n","import React from 'react';\nimport { RouteComponentProps } from 'react-router-dom';\n\nimport defaultProfileImage from '../../assets/badminton.png';\n\nimport { SharedLayout } from '../shared-layout';\nimport { Section, Profile } from '../../components';\nimport { SpotifyService, SpotifyUserProfile } from '../../services';\nimport { Button } from '../../components/shared/button.component';\nimport { StorageService, StorageKeys } from '../../services/storage';\n\ninterface AccountProps extends RouteComponentProps<any> {}\ninterface AccountState {\n  hasError: boolean;\n  userProfile: any;\n}\n\nexport class Account extends React.Component<AccountProps, AccountState> {\n  constructor(props: any) {\n    super(props);\n\n    this.state = {\n      hasError: false,\n      userProfile: {} as SpotifyUserProfile,\n    };\n  }\n\n  componentDidMount() {\n    this.setUserProfile(() => {\n      this.setState({ hasError: true });\n    });\n  }\n\n  async setUserProfile(onError: Function) {\n    const userProfile = await SpotifyService.userProfile();\n    const { error } = userProfile;\n\n    if (error) {\n      return onError(error);\n    }\n\n    this.setState({ userProfile });\n  }\n\n  logout() {\n    Object.keys(StorageKeys).forEach((key) => StorageService.remove((StorageKeys as any)[key]));\n    SpotifyService.logout();\n    this.props.history.push('/');\n    window.location.reload();\n  }\n\n  render() {\n    const { hasError, userProfile } = this.state;\n\n    return (\n      <SharedLayout hasError={hasError} isLoading={false}>\n        <Section headerText={`Account information`}>\n          <Profile\n            style={styles.profile}\n            imageStyle={styles.image}\n            imageUrl={userProfile.imageUrl || defaultProfileImage}\n            onClickImage={() => window.open(userProfile.externalUrl, '_blank')}\n            info={{\n              name: userProfile.name,\n              email: userProfile.email,\n              country: userProfile.country,\n              followers: userProfile.followers,\n            }}\n          ></Profile>\n        </Section>\n        <Section>\n          <Button\n            text={'Logout'}\n            onClick={() => {\n              this.logout();\n            }}\n          />\n        </Section>\n      </SharedLayout>\n    );\n  }\n}\n\nconst styles: Record<any, React.CSSProperties> = {\n  profile: {\n    width: 500,\n  },\n  image: {\n    width: 80,\n    height: 'auto',\n  },\n};\n","import React from 'react';\n\nimport { connect } from 'react-redux';\nimport { ThunkDispatch } from 'redux-thunk';\n\nimport { SharedLayout } from '../shared-layout';\nimport { Section, Profile, Button } from '../../components';\nimport { TopResponse, SpotifyService, SpotifyTopType, ArtistsEntity, SpotifyTimeRange, Track } from '../../services';\nimport { Spacing } from '../../styles';\nimport { playSong } from '../../redux/actions';\n\ninterface DispatchProps {\n  playSong: typeof playSong;\n}\n\ntype StatsProps = DispatchProps;\n\ninterface StatsState {\n  hasError: boolean;\n  topArtistsTimeRange: SpotifyTimeRange;\n  topTracksTimeRange: SpotifyTimeRange;\n  topArtists?: any;\n  topTracks?: any;\n  isLoading: boolean;\n}\n\nclass Stats extends React.Component<StatsProps, StatsState> {\n  constructor(props: any) {\n    super(props);\n\n    this.state = {\n      topArtistsTimeRange: SpotifyTimeRange.ShortTerm,\n      topTracksTimeRange: SpotifyTimeRange.ShortTerm,\n      hasError: false,\n      isLoading: true,\n    };\n  }\n\n  componentDidMount() {\n    this.setTopsState(() => this.setState({ hasError: true }));\n  }\n\n  async setTopsState(onError: Function) {\n    const { topArtistsTimeRange, topTracksTimeRange } = this.state;\n    const topArtists: TopResponse = await SpotifyService.getTop(SpotifyTopType.Artists, topArtistsTimeRange);\n    const topTracks: TopResponse = await SpotifyService.getTop(SpotifyTopType.Tracks, topTracksTimeRange);\n\n    const { error: topArtistsError } = topArtists;\n    const { error: topTracksError } = topTracks;\n\n    if (topArtistsError || topTracksError) {\n      return onError(topArtistsError, topTracksError);\n    }\n\n    this.setState({ topArtists, topTracks, isLoading: false });\n  }\n\n  renderTimeRangeButtons(type: SpotifyTopType) {\n    const SpotifyTimeRangeToDisplay = {\n      [SpotifyTimeRange.ShortTerm]: 'Last 4 weeks',\n      [SpotifyTimeRange.MediumTerm]: 'Last 6 months',\n      [SpotifyTimeRange.LongTerm]: 'Last several years',\n    };\n    const SpotifyTimeRangeList = [SpotifyTimeRange.ShortTerm, SpotifyTimeRange.MediumTerm, SpotifyTimeRange.LongTerm];\n    const timeRangeForType = type === SpotifyTopType.Artists ? 'topArtistsTimeRange' : 'topTracksTimeRange';\n\n    return (\n      <div style={styles.row}>\n        {SpotifyTimeRangeList.map((range, index) => {\n          return (\n            <div key={index} style={styles.toggle}>\n              <Button\n                text={SpotifyTimeRangeToDisplay[range]}\n                onClick={() => {\n                  // Using never as a workaround when calling setState with dynamic keys\n                  this.setState<never>({ [timeRangeForType]: range }, () =>\n                    this.setTopsState(() => this.setState({ hasError: true }))\n                  );\n                }}\n              />\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n\n  render() {\n    const { hasError, topArtists, topTracks, isLoading, topArtistsTimeRange, topTracksTimeRange } = this.state;\n    const SpotifyTimeRangeToDisplay = {\n      [SpotifyTimeRange.ShortTerm]: 'Last 4 weeks',\n      [SpotifyTimeRange.MediumTerm]: 'Last 6 months',\n      [SpotifyTimeRange.LongTerm]: 'Last several years',\n    };\n\n    return (\n      <SharedLayout hasError={hasError} isLoading={isLoading}>\n        <div>\n          <Section headerText={`Top artists (${SpotifyTimeRangeToDisplay[topArtistsTimeRange]})`}>\n            {this.renderTimeRangeButtons(SpotifyTopType.Artists)}\n            <div style={styles.row}>\n              {topArtists &&\n                topArtists!.items!.map((artist: ArtistsEntity, index: number) => {\n                  return (\n                    <Profile\n                      key={index}\n                      style={styles.profile}\n                      imageStyle={styles.image}\n                      imageUrl={artist.images![0].url}\n                      onClickImage={() => window.open(artist.external_urls.spotify, '_blank')}\n                      displayKeys={false}\n                      info={{\n                        rank: `${index + 1}`,\n                        name: artist.name,\n                        genres: artist.genres!.join(', '),\n                      }}\n                    ></Profile>\n                  );\n                })}\n            </div>\n          </Section>\n        </div>\n        <div>\n          <Section headerText={`Top tracks (${SpotifyTimeRangeToDisplay[topTracksTimeRange]})`}>\n            {this.renderTimeRangeButtons(SpotifyTopType.Tracks)}\n            <div style={styles.row}>\n              {topTracks &&\n                topTracks!.items!.map((track: Track, index: number) => {\n                  return (\n                    <Profile\n                      key={index}\n                      style={styles.profile}\n                      imageStyle={styles.image}\n                      imageUrl={track.album!.images![0].url}\n                      onClickImage={() => this.props.playSong(track)}\n                      displayKeys={false}\n                      info={{\n                        rank: `${index + 1}`,\n                        title: track.name,\n                        artist: track.artists![0].name,\n                      }}\n                    ></Profile>\n                  );\n                })}\n            </div>\n          </Section>\n        </div>\n      </SharedLayout>\n    );\n  }\n}\n\nconst styles: Record<any, React.CSSProperties> = {\n  row: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  profile: {\n    width: 500,\n    marginBottom: Spacing.s12,\n    marginRight: Spacing.s48,\n  },\n  image: {\n    width: 100,\n    height: 100,\n  },\n  toggle: {\n    marginBottom: Spacing.s16,\n    marginRight: Spacing.s16,\n  },\n};\n\nconst MapDispatchToProps = (dispatch: ThunkDispatch<{}, {}, any>) => ({\n  playSong: (track: any) => dispatch(playSong(track)),\n});\n\nexport default connect(undefined, MapDispatchToProps)(Stats);\n","import { Home, Stream, Account, Stats } from '../pages';\n\n/**\n * @prop path - required\n * @prop page - required\n * @prop header - optional, value to display on header nav\n * @prop rightAlignedHeader - optional, if the header is right aligned\n */\nexport interface AppRoute {\n  path: string;\n  page: any;\n  header?: string;\n  rightAlignedHeader?: boolean;\n}\n\nexport const AppRoutes: AppRoute[] = [\n  // Header routes\n  {\n    path: '/',\n    page: Home,\n    header: 'shareable',\n  },\n  {\n    path: '/stats',\n    page: Stats,\n    header: 'stats',\n  },\n  {\n    path: '/stream',\n    page: Stream,\n    header: 'stream',\n  },\n  {\n    path: '/account',\n    page: Account,\n    header: 'account',\n    rightAlignedHeader: true,\n  },\n  // Other routes\n];\n","export const scopes = [\n  'user-top-read',\n  'user-read-currently-playing',\n  'user-read-playback-state',\n  'user-library-read',\n  'streaming',\n  'user-read-email',\n  'user-read-private',\n  'user-library-modify',\n];\n\nconst dev = {\n  redirectUri: 'http://localhost:3000/',\n  obfuscateDevTools: false,\n};\n\nconst prod = {\n  redirectUri: 'https://thmsngyn.github.io/shareable/',\n  obfuscateDevTools: true,\n};\n\nconst config = process.env.REACT_APP_STAGE === 'prod' ? prod : dev;\n\nexport default {\n  // Common configs\n  clientId: '05b0a9e4fb784b1c866f6235ae139c3a',\n  scopes,\n\n  // Dev configs\n  ...config,\n};\n","import config from '../../config';\n\n// APIs\nexport const SPOTIFY_API_HOSTNAME = 'https://api.spotify.com';\nexport const PLAYER_API = `${SPOTIFY_API_HOSTNAME}/v1/me/player`;\nexport const SAVED_TRACKS_API = `${SPOTIFY_API_HOSTNAME}/v1/me/tracks`;\nexport const USER_PROFILE_API = `${SPOTIFY_API_HOSTNAME}/v1/me`;\nexport const USER_TOP_API = `${SPOTIFY_API_HOSTNAME}/v1/me/top`;\nexport const PLAYER_PLAY_API = `${SPOTIFY_API_HOSTNAME}/v1/me/player/play`;\n\n// Auth\nexport const AUTH_API = 'https://accounts.spotify.com/authorize';\nexport const LOGIN_OAUTH = `${AUTH_API}?client_id=${config.clientId}&redirect_uri=${\n  config.redirectUri\n}&scope=${config.scopes.join('%20')}&response_type=token&show_dialog=true`;\n","import { hash, parseJson } from '../../utils';\nimport { StorageService, StorageKeys } from '../storage';\n\nimport { PLAYER_API, SAVED_TRACKS_API, USER_PROFILE_API, USER_TOP_API, PLAYER_PLAY_API } from './spotify.constants';\nimport {\n  CurrentPlaybackResponse,\n  LikesResponse,\n  SpotifyErrorMessages,\n  SpotifyUserProfile,\n  SpotifyTimeRange,\n  SpotifyTopType,\n} from './spotify.types';\n\nexport const SpotifyService = new (class {\n  private token: string = '';\n  constructor() {}\n\n  private get headers() {\n    return new Headers({\n      Authorization: 'Bearer ' + this.token,\n    });\n  }\n\n  private resolveTokenInStorage(hasTokenInStorage: boolean, token: string) {\n    if (!hasTokenInStorage) {\n      StorageService.set(StorageKeys.SpotifyToken, token);\n      StorageService.setExpiration(StorageKeys.SpotifyToken, 36000000); // 1 hr\n    } else {\n      StorageService.checkExpiration();\n    }\n  }\n\n  logout() {\n    this.token = '';\n  }\n\n  async userProfile(): Promise<SpotifyUserProfile> {\n    const profileFromStorage = StorageService.get(StorageKeys.UserProfile);\n\n    if (!profileFromStorage) {\n      const response = await this.getUserProfile();\n      const { display_name: name, external_urls, images, email, country, followers, error } = response;\n      const imageUrl = images && images.length && images[0].url;\n      const externalUrl = external_urls && external_urls.spotify;\n\n      const userProfile = {\n        name,\n        externalUrl,\n        email,\n        country,\n        imageUrl,\n        followers: followers && followers.total,\n        error,\n      };\n      StorageService.set(StorageKeys.UserProfile, JSON.stringify(userProfile));\n      return userProfile;\n    } else {\n      return JSON.parse(profileFromStorage);\n    }\n  }\n\n  userIsLoggedIn(): boolean {\n    return !!this.token;\n  }\n\n  resolveUserToken(): string {\n    // Set token\n    this.token = hash.access_token;\n    const tokenFromStorage = StorageService.get(StorageKeys.SpotifyToken);\n\n    if (!!tokenFromStorage || !!this.token) {\n      this.token = tokenFromStorage || this.token;\n      this.resolveTokenInStorage(!!tokenFromStorage, this.token);\n      return this.token;\n    }\n    return '';\n  }\n\n  getUserProfile(): Promise<any> {\n    return this.request(USER_PROFILE_API, 'GET');\n  }\n\n  getCurrentlyPlaying(): Promise<CurrentPlaybackResponse> {\n    // Make a call using the token\n    return this.request(PLAYER_API, 'GET');\n  }\n\n  /**\n   * Transfer playback to a new device and determine if it should start playing.\n   * @param deviceIds array of device ids to transfer playback to, only a single device id is currently supported\n   * @param play true: ensure playback happens on new device. false or not provided: keep the current playback state.\n   */\n  transferPlayback(deviceIds: string[], play: boolean = false): Promise<any> {\n    return this.request(PLAYER_API, 'PUT', { device_ids: deviceIds, play });\n  }\n\n  getLikes(limit: number = 10, offset: number = 0): Promise<LikesResponse> {\n    return this.request(`${SAVED_TRACKS_API}?limit=${limit}&offset=${offset}`, 'GET');\n  }\n\n  getTop(\n    type: SpotifyTopType,\n    timeRange: SpotifyTimeRange = SpotifyTimeRange.ShortTerm,\n    limit: number = 10,\n    offset: number = 0\n  ): Promise<any> {\n    return this.request(`${USER_TOP_API}/${type}?limit=${limit}&offset=${offset}&time_range=${timeRange}`, 'GET');\n  }\n\n  playSongs(uris: string[]): Promise<any> {\n    return this.request(`${PLAYER_PLAY_API}`, 'PUT', { uris });\n  }\n\n  request(url: string, method: string, body?: any): Promise<any> {\n    return fetch(url, {\n      method,\n      headers: this.headers,\n      body: JSON.stringify(body),\n    })\n      .then(parseJson)\n      .then(this.errorHandler.bind(this));\n  }\n\n  errorHandler(response: any) {\n    const { error } = response;\n    if (error) {\n      switch (error.message) {\n        case SpotifyErrorMessages.TokenExpired:\n          StorageService.remove(StorageKeys.SpotifyToken);\n      }\n    }\n    return response;\n  }\n})();\n","import { ThunkAction } from 'redux-thunk';\nimport { AnyAction } from 'redux';\n\nimport { action } from 'typesafe-actions';\n\nimport { SpotifyService, Track } from '../../services';\n\n// use typescript enum rather than action constants\nexport enum ActionTypes {\n  PAUSE_FOCUSED = 'PAUSE_FOCUSED',\n  SET_FOCUSED = 'SET_FOCUSED',\n}\n\n// State actions\nexport const pauseFocused = (track: Track) => action(ActionTypes.PAUSE_FOCUSED, track);\nexport const setFocused = (track: Track) => action(ActionTypes.SET_FOCUSED, track);\n\n// Thunk actions\nexport const playSong = (track: Track): ThunkAction<void, {}, {}, AnyAction> => {\n  // Thunk middleware will pass the dispatch method to this function\n  return (dispatch): void => {\n    SpotifyService.playSongs([track.uri]);\n    dispatch(setFocused(track));\n  };\n};\n","import React, { Fragment } from 'react';\n\nimport { connect } from 'react-redux';\nimport { ThunkDispatch } from 'redux-thunk';\n\nimport './track.css';\nimport './track.scss';\n\nimport { Track as TrackType } from '../../services';\nimport { Spacing, FontSizes } from '../../styles';\nimport { playSong } from '../../redux/actions';\n\ninterface OwnProps {\n  track: TrackType;\n}\ninterface DispatchProps {\n  playSong: typeof playSong;\n}\ninterface StateProps {}\n\ntype TrackProps = OwnProps & DispatchProps & StateProps;\n\ninterface TrackState {}\n\nclass Track extends React.Component<TrackProps, TrackState> {\n  renderArtists() {\n    const { track } = this.props;\n\n    return <div style={styles.artistName}>{track.artists!.map((artist: any) => artist.name).join(', ')}</div>;\n  }\n\n  renderTrackTitle() {\n    const { track } = this.props;\n\n    return <div style={styles.trackTitle}>{track.name}</div>;\n  }\n\n  hasData(track: TrackType) {\n    return track && track.album!.images![0].url && track.artists;\n  }\n\n  render() {\n    const { track } = this.props;\n\n    return (\n      <div className=\"track\" style={styles.track}>\n        {this.hasData(track) ? (\n          <Fragment>\n            <div style={styles.coverArt}>\n              <img\n                alt={'trackImage'}\n                className=\"art\"\n                src={track.album!.images![0].url}\n                onClick={() => this.props.playSong(track)}\n              />\n            </div>\n            <div className=\"track__content\">\n              {this.renderArtists()}\n              {this.renderTrackTitle()}\n            </div>\n          </Fragment>\n        ) : (\n          <div>Nothing found</div>\n        )}\n      </div>\n    );\n  }\n}\n\nconst styles: Record<any, React.CSSProperties> = {\n  progress: {\n    marginTop: Spacing.s16,\n  },\n  artistName: {\n    ...FontSizes.MediumSmall,\n  },\n  track: {\n    marginBottom: Spacing.s24,\n  },\n  coverArt: {\n    marginRight: Spacing.s16,\n  },\n  trackTitle: {\n    ...FontSizes.Large,\n  },\n};\n\nconst MapDispatchToProps = (dispatch: ThunkDispatch<{}, {}, any>) => ({\n  playSong: (track: any) => dispatch(playSong(track)),\n});\n\nexport default connect(undefined, MapDispatchToProps)(Track);\n","import React from 'react';\n\nimport { connect } from 'react-redux';\n\nimport SpotifyPlayer from 'react-spotify-web-playback';\nimport { IProps, IStylesProps, ICallbackState } from 'react-spotify-web-playback/lib/types/common';\nimport { IPlayerTrack } from 'react-spotify-web-playback/lib/types/spotify';\n\nimport { SpotifyService, Track } from '../../services';\nimport { Colors } from '../../styles';\nimport { setFocused } from '../../redux/actions';\n\ntype ReducedSpotifyPlayerProps = Pick<IProps, Exclude<keyof IProps, 'token'>>;\ninterface OwnProps extends ReducedSpotifyPlayerProps {}\n\ninterface DispatchProps {\n  setFocusedTrack: typeof setFocused;\n}\n\ntype PlayerProps = OwnProps & DispatchProps;\n\ninterface PlayerState {\n  token: string;\n  deviceId: string;\n}\nclass Player extends React.Component<PlayerProps, PlayerState> {\n  constructor(props: any) {\n    super(props);\n\n    this.state = {\n      token: '',\n      deviceId: '',\n    };\n  }\n\n  componentDidMount() {\n    const token = SpotifyService.resolveUserToken();\n    if (token) {\n      this.setState({ token });\n    }\n  }\n\n  setDevice(deviceId: string, isActive: boolean) {\n    const { deviceId: stateDeviceId } = this.state;\n    if (!stateDeviceId && deviceId) {\n      if (!isActive) {\n        this.setState({ deviceId });\n        SpotifyService.transferPlayback([deviceId]);\n      }\n    }\n  }\n\n  syncCurrentlyPlaying(track: IPlayerTrack) {\n    // Sync the currently playing data from the library player\n    // This helps with syncing back with other players like the desktop app\n    this.props.setFocusedTrack({\n      ...track,\n      artists: track.artists.split(', ').map((artistName: string) => {\n        return { name: artistName };\n      }),\n      album: {\n        images: [{ url: track.image }],\n      },\n    } as any); // TODO: Build the proper object type. Consider requesting the track from spotify\n  }\n\n  handlePlayerCallback(playerData: ICallbackState) {\n    const { deviceId, isActive, track } = playerData; // Top level deviceId is always this device\n    this.setDevice(deviceId, isActive);\n    this.syncCurrentlyPlaying(track);\n  }\n\n  render() {\n    return (\n      <SpotifyPlayer\n        name={'Shareable Web Player'}\n        styles={styles.custom}\n        token={this.state.token}\n        autoPlay={true}\n        showSaveIcon={true}\n        persistDeviceSelection={true}\n        callback={this.handlePlayerCallback.bind(this)}\n      />\n    );\n  }\n}\n\nconst styles: Record<string, React.CSSProperties & IStylesProps> = {\n  custom: {\n    sliderColor: Colors.ShareableLavender,\n    savedColor: Colors.ShareableLavender,\n  },\n};\n\nconst MapDispatchToProps = {\n  setFocusedTrack: setFocused,\n};\n\nexport default connect(undefined, MapDispatchToProps)(Player);\n","import React, { Fragment } from 'react';\n\nimport { Player } from '../player';\n\nexport class Footer extends React.Component {\n  constructor(props: any) {\n    super(props);\n  }\n\n  componentDidMount() {}\n\n  render() {\n    return (\n      <div style={styles.footer}>\n        <Player />\n      </div>\n    );\n  }\n}\n\nconst styles: Record<string, React.CSSProperties> = {\n  footer: {\n    position: 'fixed',\n    left: 0,\n    bottom: 0,\n    width: '100%',\n  },\n};\n","import React from 'react';\n\nimport { NavLink } from 'react-router-dom';\n\nimport logo from '../../assets/gradient-logo.png';\nimport { FontSizes, Colors, APP_HEADER_HEIGHT, getAppMargin } from '../../styles';\nimport { AppRoutes, AppRoute } from '../../utils';\n\ninterface HeaderProps {\n  isMobile: boolean;\n}\ninterface HeaderState {}\nexport class Header extends React.Component<HeaderProps, HeaderState> {\n  componentDidMount() {}\n\n  renderHeaderItem(isRightAligned: boolean = false) {\n    const keepRightHeaders = (route: AppRoute) => {\n      return !route.header || (route.header && route.rightAlignedHeader === true);\n    };\n    const keepLeftHeaders = (route: AppRoute) => {\n      return !route.header || (route.header && !route.rightAlignedHeader);\n    };\n\n    return AppRoutes.filter((route) => (isRightAligned ? keepRightHeaders(route) : keepLeftHeaders(route))).map(\n      (route) => {\n        return (\n          <NavLink\n            key={route.path}\n            exact\n            to={route.path}\n            style={styles.headerItem}\n            activeStyle={styles.headerItemActive}\n          >\n            {route.header}\n          </NavLink>\n        );\n      }\n    );\n  }\n\n  get responsiveHeaderStyle() {\n    const { isMobile } = this.props;\n    let responsiveHeaderStyle = {\n      ...styles.headerContents,\n      paddingLeft: getAppMargin(isMobile),\n      paddingRight: getAppMargin(isMobile),\n    };\n    if (isMobile) {\n      responsiveHeaderStyle = {\n        ...responsiveHeaderStyle,\n        fontSize: (responsiveHeaderStyle.fontSize as number) - 6,\n      };\n    }\n\n    return responsiveHeaderStyle;\n  }\n\n  get responsiveLeftHeaderStyle() {\n    const { isMobile } = this.props;\n    return { ...styles.headerLeft, width: isMobile ? 250 : 300 };\n  }\n\n  render() {\n    return (\n      <div style={styles.header}>\n        <div style={this.responsiveHeaderStyle}>\n          <div style={this.responsiveLeftHeaderStyle}>\n            <NavLink exact to={'/'} style={styles.headerItem} activeStyle={styles.headerItemActive}>\n              <img style={styles.logo} src={logo} alt=\"logo\" />\n            </NavLink>\n            {this.renderHeaderItem()}\n          </div>\n          <div style={styles.headerRight}>{this.renderHeaderItem(true)}</div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst styles: Record<string, React.CSSProperties> = {\n  header: {\n    width: '100%',\n    position: 'fixed',\n    left: 0,\n    top: 0,\n    backgroundColor: Colors.White,\n    color: Colors.ScreenBackground,\n    height: APP_HEADER_HEIGHT,\n  },\n  headerContents: {\n    display: 'flex',\n    alignItems: 'center',\n    height: '100%',\n    ...FontSizes.Medium,\n  },\n  logo: {\n    width: 35,\n    height: 35,\n  },\n  headerLeft: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: 300,\n  },\n  headerRight: {\n    display: 'flex',\n    marginLeft: 'auto',\n  },\n  headerItem: {\n    display: 'flex',\n    cursor: 'pointer',\n    textDecoration: 'none',\n    color: Colors.ScreenBackground,\n  },\n  headerItemActive: {\n    fontWeight: 700,\n  },\n};\n","import React from 'react';\nimport { Spacing, FontSizes } from '../../styles';\n\ninterface SectionProps {\n  headerText?: string;\n  subText?: string;\n}\n\nexport class Section extends React.Component<SectionProps> {\n  componentDidMount() {}\n\n  render() {\n    const { headerText, subText, children } = this.props;\n    return (\n      <div style={styles.streamSection}>\n        {headerText && <div style={styles.headerText}>{headerText}</div>}\n        {subText && <div style={styles.subText}>{subText}</div>}\n        {children}\n      </div>\n    );\n  }\n}\n\nconst styles: Record<any, React.CSSProperties> = {\n  streamSection: {\n    marginTop: Spacing.s32,\n  },\n  headerText: {\n    marginBottom: Spacing.s16,\n    fontFamily: 'Muli',\n    fontWeight: 600,\n    ...FontSizes.Medium,\n  },\n  subText: {\n    marginBottom: Spacing.s16,\n  },\n};\n","import React, { CSSProperties } from 'react';\nimport { Spacing } from '../../styles';\n\ninterface ProfileProps {\n  imageUrl: string;\n  onClickImage: Function;\n  info: Record<string, string>;\n  style?: CSSProperties;\n  imageStyle?: CSSProperties;\n  displayKeys?: boolean;\n}\n\nexport class Profile extends React.Component<ProfileProps> {\n  componentDidMount() {}\n\n  render() {\n    const { imageUrl, info, style, imageStyle, displayKeys = true, onClickImage } = this.props;\n    const styleOverride = {\n      ...styles.profileContainer,\n      ...style,\n    };\n    const imageStyleOverride = {\n      ...styles.image,\n      ...imageStyle,\n    };\n\n    return (\n      <div style={styleOverride}>\n        <div>\n          <img\n            alt={'profileImage'}\n            className=\"art\"\n            style={imageStyleOverride}\n            src={imageUrl}\n            onClick={() => onClickImage()}\n          />\n        </div>\n        {displayKeys && (\n          <div style={styles.infoKeys}>\n            {Object.keys(info).map((key) => {\n              return <div key={key}>{key}</div>;\n            })}\n          </div>\n        )}\n        <div style={styles.infoValues}>\n          {Object.keys(info).map((key) => {\n            return <div key={key}>{info[key]}</div>;\n          })}\n        </div>\n      </div>\n    );\n  }\n}\n\nconst styles: Record<any, React.CSSProperties> = {\n  profileContainer: {\n    display: 'flex',\n    justifyContent: 'flex-start',\n  },\n  image: {\n    marginRight: Spacing.s16,\n  },\n  infoKeys: {\n    textAlign: 'right',\n    marginRight: Spacing.s12,\n  },\n  infoValues: {\n    fontWeight: 600,\n  },\n};\n","import * as AppStateTypes from 'AppStateTypes';\nimport { ActionTypes } from '../actions/';\n\ninterface FocusedTrack {\n  track: any;\n  isPlaying: boolean;\n}\n\nexport const initialState: FocusedTrack = {\n  track: undefined,\n  isPlaying: false,\n};\n\nexport const focusedTrackReducer = (state: FocusedTrack = initialState, action: AppStateTypes.RootAction) => {\n  switch (action.type) {\n    case ActionTypes.SET_FOCUSED: {\n      const { track: { id } = {} } = state;\n      // Only update the store if it is a new track\n      if (action.payload && id !== action.payload.id) {\n        return {\n          ...state,\n          track: action.payload,\n          isPlaying: true,\n        };\n      } else {\n        return state;\n      }\n    }\n    case ActionTypes.PAUSE_FOCUSED: {\n      return {\n        ...state,\n        track: action.payload,\n        isPlaying: false,\n      };\n    }\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from 'redux';\nimport { focusedTrackReducer } from './currently-playing.reducer';\n\nconst rootReducer = combineReducers({\n  focusedTrack: focusedTrackReducer,\n});\n\nexport default rootReducer;\n","import { createStore, Store, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport reduxThunk from 'redux-thunk';\n\nimport * as AppStateTypes from 'AppStateTypes';\n\nimport config from '../config';\n\nimport rootReducer from './reducers';\n\nconst middleware = [reduxThunk];\n\nlet store: Store<AppStateTypes.ReducerState>;\n\nif (config.obfuscateDevTools) {\n  store = createStore(rootReducer, applyMiddleware(...middleware));\n} else {\n  // Only allow redux dev tools in a dev environment\n  store = createStore(rootReducer, composeWithDevTools(applyMiddleware(...middleware)));\n}\n\nexport default store;\n","import './App.css';\n\nimport React from 'react';\n\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport withSizes from 'react-sizes';\n\nimport { hot } from 'react-hot-loader/root';\n\nimport { Provider } from 'react-redux';\n\nimport { Colors, APP_FOOTER_HEIGHT, APP_HEADER_HEIGHT, getAppMargin, Spacing } from './styles';\nimport { Footer, Header } from './components';\nimport { Home } from './pages';\nimport { SpotifyService } from './services';\nimport { AppRoutes } from './utils';\nimport store from './redux/store';\n\ninterface AppProps {\n  isMobile: boolean;\n}\n\ninterface AppState {\n  loggedIn: boolean;\n}\n\nclass App extends React.Component<AppProps, AppState> {\n  constructor(props: AppProps) {\n    super(props);\n\n    this.state = {\n      loggedIn: false,\n    };\n  }\n\n  async componentDidMount() {\n    const token = SpotifyService.resolveUserToken();\n    this.setState({ loggedIn: !!token });\n  }\n\n  renderRoutes() {\n    const { loggedIn } = this.state;\n    const { isMobile } = this.props;\n\n    let responsiveStyle = {\n      ...styles.routeContainer,\n      marginLeft: getAppMargin(isMobile),\n      marginRight: getAppMargin(isMobile),\n    };\n\n    return (\n      <div style={responsiveStyle}>\n        {!loggedIn && <Home />}\n        {loggedIn && (\n          <Switch>\n            {AppRoutes.map((route) => {\n              const { path, page } = route;\n              return <Route key={route.path} exact path={path} component={page} />;\n            })}\n          </Switch>\n        )}\n      </div>\n    );\n  }\n\n  render() {\n    const { loggedIn } = this.state;\n    const { isMobile } = this.props;\n\n    return (\n      <Provider store={store}>\n        <Router basename=\"/shareable/\">\n          <div style={styles.app}>\n            <Header isMobile={isMobile} />\n            {this.renderRoutes()}\n            {loggedIn && <Footer />}\n          </div>\n        </Router>\n      </Provider>\n    );\n  }\n}\n\nconst mapSizesToProps = ({ width }: any) => ({\n  isMobile: width < 500,\n});\n\nexport default hot(withSizes(mapSizesToProps)(App));\n\nconst styles: Record<string, React.CSSProperties> = {\n  app: {\n    backgroundColor: Colors.ScreenBackground,\n    minHeight: '100vh',\n    display: 'flex',\n    flexDirection: 'column',\n    color: Colors.c100,\n    fontFamily: 'Muli',\n    fontWeight: 500,\n    // boxShadow: `inset ${Spacing.s224}px 0 ${Spacing.s224}px -${Spacing.s224}px ${Colors.ShareableLavender}, inset -${Spacing.s224}px 0 ${Spacing.s224}px -${Spacing.s224}px ${Colors.ShareableLavender}`,\n  },\n  routeContainer: {\n    marginTop: APP_HEADER_HEIGHT,\n    marginBottom: APP_FOOTER_HEIGHT,\n    paddingTop: Spacing.s24,\n    overflow: 'auto',\n  },\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}